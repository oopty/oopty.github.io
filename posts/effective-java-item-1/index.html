<!DOCTYPE html><html lang="custom" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="prefer-datetime-locale" content="ko"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Effective Java 정리 Item1" /><meta property="og:locale" content="custom" /><meta name="description" content="안녕하세요. 최근에 Effective Java를 읽으면서 자바의 고급 스킬에 대해 많이 배웠는데요 이를 글로 적어 다시 복습하려고 합니다." /><meta property="og:description" content="안녕하세요. 최근에 Effective Java를 읽으면서 자바의 고급 스킬에 대해 많이 배웠는데요 이를 글로 적어 다시 복습하려고 합니다." /><link rel="canonical" href="https://oopty.github.io/posts/effective-java-item-1/" /><meta property="og:url" content="https://oopty.github.io/posts/effective-java-item-1/" /><meta property="og:site_name" content="oopty" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-07-15T09:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Effective Java 정리 Item1" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-07-16T22:07:26+09:00","datePublished":"2023-07-15T09:00:00+09:00","description":"안녕하세요. 최근에 Effective Java를 읽으면서 자바의 고급 스킬에 대해 많이 배웠는데요 이를 글로 적어 다시 복습하려고 합니다.","headline":"Effective Java 정리 Item1","mainEntityOfPage":{"@type":"WebPage","@id":"https://oopty.github.io/posts/effective-java-item-1/"},"url":"https://oopty.github.io/posts/effective-java-item-1/"}</script><title>Effective Java 정리 Item1 | oopty</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="oopty"><meta name="application-name" content="oopty"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /commons/avatar.jpeg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">oopty</a></div><div class="site-subtitle font-italic">Stand on the shoulders of giants</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/oopty" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['minjun13795','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Effective Java 정리 Item1</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Effective Java 정리 Item1</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/oopty">oopty</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1689379200" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2023-07-15 </em> </span> <span> Updated <em class="timeago" data-ts="1689512846" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2023-07-16 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1687 words"> <em>9 min</em> read</span></div></div></div><div class="post-content"><p>안녕하세요. 최근에 Effective Java를 읽으면서 자바의 고급 스킬에 대해 많이 배웠는데요 이를 글로 적어 다시 복습하려고 합니다.</p><h2 id="item1-생성자-대신-정적-펙토리-메서드를-고려하라"><span class="mr-2">item1. 생성자 대신 정적 펙토리 메서드를 고려하라</span><a href="#item1-생성자-대신-정적-펙토리-메서드를-고려하라" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>정적 펙터리 메서드는 아래와 같이 private 생성자를 통해 객체를 생성하는 방법입니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">MyClass</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">myField1</span><span class="o">;</span>
    <span class="nc">String</span> <span class="n">myField2</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nf">MyClass</span><span class="o">(</span><span class="kt">int</span> <span class="n">myField1</span><span class="o">,</span> <span class="nc">String</span> <span class="n">myField2</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">myField1</span> <span class="o">=</span> <span class="n">myField1</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">myField2</span> <span class="o">=</span> <span class="n">myField2</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">MyClass</span> <span class="nf">getInstance</span><span class="o">(</span><span class="kt">int</span> <span class="n">myField1</span><span class="o">,</span> <span class="nc">String</span> <span class="n">myField2</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">MyClass</span><span class="o">(</span><span class="n">myField1</span><span class="o">,</span> <span class="n">myField2</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="kd">public</span> 
</pre></table></code></div></div><p>이 정적 펙터리 메서드의 장점은 5가지입니다.</p><h2 id="장점"><span class="mr-2">장점</span><a href="#장점" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="1-이름을-가질-수-있다"><span class="mr-2">1. 이름을 가질 수 있다.</span><a href="#1-이름을-가질-수-있다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>생성자는 이름을 짓지 못하는데 정적 펙토리 메서드는 이름을 가질 수 있습니다. 이런 이름은 대부분 from, of, valueOf, getInstance 등이 있습니다. 관례적으로 사용하는 이름이 있는데 정리하면 아래와 같습니다.</p><ul><li>from: 한 개의 매개변수를 받고 객체를 반환하는 형변환 메서드<li>of: 여러 개의 매개변수를 받고 적합한 타입의 객체를 반환하는 집계 메서드<li>valueOf: from과 of의 더 자세한 버전<li>instance 혹은 getInstance: 매개 변수로 명시한 객체를 생성해 반환하지만 매개 변수가 같다고 같은 객체인지는 보장하지 않음<li>create 혹은 newInstance: instance와 같지만 매번 새로운 객체가 반환됨을 보장함<li>getType: instance와 같지만 속해 있는 클래스와 다른 클래스를 반환함 <code class="language-plaintext highlighter-rouge">Type</code>은 반환하려는 객체의 클래스를 나타냄<li>newType: getType과 같지만 매번 다른 객체를 반환함을 보장<li>type: getType과 newType의 간결한 버전</ul><h3 id="2-호출할-때마다-객체를-새로-생성하지-않아도-됨"><span class="mr-2">2. 호출할 때마다 객체를 새로 생성하지 않아도 됨</span><a href="#2-호출할-때마다-객체를-새로-생성하지-않아도-됨" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>싱글톤 객체를 만들거나 각 객체의 최대 개수를 지정하고 싶을 때 생성자는 이를 해결하지 못하지만 펙토리 메서드로는 해결할 수 있습니다.</p><h3 id="3-반환-타입의-하위-타입-객체를-반환할-수-있음"><span class="mr-2">3. 반환 타입의 하위 타입 객체를 반환할 수 있음</span><a href="#3-반환-타입의-하위-타입-객체를-반환할-수-있음" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>상위 타입의 정적 펙토리 메서드에서 하위타입의 객체를 반환할 수 있습니다. 또한 이는 클라이언트 코드에서는 어떤 하위 타입인지 알지 못하며 이는 클라이언트 코드와 결합도를 낮춰 설계의 자유로움을 가져다 줍니다.</p><h3 id="4-입력-매개변수에-따라-매번-다른-클래스의-객체를-반환할-수-있음"><span class="mr-2">4. 입력 매개변수에 따라 매번 다른 클래스의 객체를 반환할 수 있음</span><a href="#4-입력-매개변수에-따라-매번-다른-클래스의-객체를-반환할-수-있음" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>3번과 비슷한 내용으로 입력 매개변수에 따라 반환되는 객체의 클래스를 다르게 할 수 있고 이는 다음 릴리즈에 변경해도 클라이언트 코드에는 영향이 없습니다. 예를들어, EnumSet 클래스의 정적 펙토리 메서드는 원소가 64개 이하면 RegularEnumSet을 그보다 초과하면 JomboEnumSet을 반환합니다. 이는 성능적인 이슈 때문이고 나중에 성능 이슈가 해결이되어 하나의 클래스로 수정해야 한다면 자유롭게 수정을 해도 클라이언트 코드를 변경하지 않아도 수정할 수 있습니다.</p><h3 id="5-정적-펙토리-메서드를-만들-시점에-반환할-클래스가-존재하지-않아도-됩니다"><span class="mr-2">5. 정적 펙토리 메서드를 만들 시점에 반환할 클래스가 존재하지 않아도 됩니다.</span><a href="#5-정적-펙토리-메서드를-만들-시점에-반환할-클래스가-존재하지-않아도-됩니다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>이건 처음봤을때 무슨 말인지 이해가 가지 않았습니다. 뒤에서 서비스 제공자 프레임워크를 구현할 때 이 개념이 나오게 되는데 이때 책에서 자세히 설명을 해줍니다. 서비스 제공자 프레임워크(Service Provider Framework)는 3개의 핵심 컴포넌트로 이루어 집니다. 등록 API, 서비스 접근 API, 서비스 인터페이스입니다. 이렇게 3개를 구현해 놓으면 <code class="language-plaintext highlighter-rouge">서비스 인터페이스</code>를 구현한 다른 클래스를 <code class="language-plaintext highlighter-rouge">등록 API</code>로 등록하고 <code class="language-plaintext highlighter-rouge">서비스 접근 API</code>를 통해 사용할 수 있습니다. JDBC의 Connection관련 로직인 DriverManager와 Driver가 대표적인 예이고 구현된 코드를 보면 아래와 같습니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">registerDriver</span><span class="o">(</span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Driver</span> <span class="n">driver</span><span class="o">,</span>
        <span class="nc">DriverAction</span> <span class="n">da</span><span class="o">)</span> <span class="c1">// 등록 API</span>
    <span class="kd">throws</span> <span class="nc">SQLException</span> <span class="o">{</span>

    <span class="cm">/* Register the driver if it has not already been added to our list */</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">driver</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">registeredDrivers</span><span class="o">.</span><span class="na">addIfAbsent</span><span class="o">(</span><span class="k">new</span> <span class="nc">DriverInfo</span><span class="o">(</span><span class="n">driver</span><span class="o">,</span> <span class="n">da</span><span class="o">));</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="c1">// This is for compatibility with the original DriverManager</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">NullPointerException</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="n">println</span><span class="o">(</span><span class="s">"registerDriver: "</span> <span class="o">+</span> <span class="n">driver</span><span class="o">);</span>

<span class="o">}</span>


<span class="kd">private</span> <span class="kd">static</span> <span class="nc">Connection</span> <span class="nf">getConnection</span><span class="o">(</span>
    <span class="nc">String</span> <span class="n">url</span><span class="o">,</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">Properties</span> <span class="n">info</span><span class="o">,</span> <span class="nc">Class</span><span class="o">&lt;?&gt;</span> <span class="n">caller</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">SQLException</span> <span class="o">{</span> <span class="c1">// 서비스 접근 API</span>

    <span class="o">...</span>

    <span class="k">for</span> <span class="o">(</span><span class="nc">DriverInfo</span> <span class="n">aDriver</span> <span class="o">:</span> <span class="n">registeredDrivers</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// If the caller does not have permission to load the driver then</span>
        <span class="c1">// skip it.</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">isDriverAllowed</span><span class="o">(</span><span class="n">aDriver</span><span class="o">.</span><span class="na">driver</span><span class="o">,</span> <span class="n">callerCL</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="n">println</span><span class="o">(</span><span class="s">"    trying "</span> <span class="o">+</span> <span class="n">aDriver</span><span class="o">.</span><span class="na">driver</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
                <span class="nc">Connection</span> <span class="n">con</span> <span class="o">=</span> <span class="n">aDriver</span><span class="o">.</span><span class="na">driver</span><span class="o">.</span><span class="na">connect</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">info</span><span class="o">);</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">con</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                    <span class="c1">// Success!</span>
                    <span class="n">println</span><span class="o">(</span><span class="s">"getConnection returning "</span> <span class="o">+</span> <span class="n">aDriver</span><span class="o">.</span><span class="na">driver</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
                    <span class="k">return</span> <span class="o">(</span><span class="n">con</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">SQLException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">reason</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">reason</span> <span class="o">=</span> <span class="n">ex</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">println</span><span class="o">(</span><span class="s">"    skipping: "</span> <span class="o">+</span> <span class="n">aDriver</span><span class="o">.</span><span class="na">driver</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
        <span class="o">}</span>

    <span class="o">}</span>

    <span class="o">...</span>

<span class="o">}</span>
</pre></table></code></div></div><h2 id="단점"><span class="mr-2">단점</span><a href="#단점" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="1-상속을-하려면-public이나-protected인-생성자가-필요한데-정적-팩토리-메서드만-제공하면-만들수-가-없음"><span class="mr-2">1. 상속을 하려면 public이나 protected인 생성자가 필요한데 정적 팩토리 메서드만 제공하면 만들수 가 없음</span><a href="#1-상속을-하려면-public이나-protected인-생성자가-필요한데-정적-팩토리-메서드만-제공하면-만들수-가-없음" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>이에 대한 해결방법은 따로 Types 클래스로(ex, Collections) 정적 펙토리 메서드를 모아서 사용하면 됩니다. 하지만 이는 상속관계보다는 Compostion 관계를 사용하라는 지침을 자연스럽게 따를 수 있고 완전한 불변 객체를 만들기 위해서 지켜야하는 점이라는 것에서 큰 단점은 아닐수 있습니다.</p><h3 id="2-사용하려는-클라이언트가-정적-펙토리-메서드를-찾아야-함"><span class="mr-2">2. 사용하려는 클라이언트가 정적 펙토리 메서드를 찾아야 함</span><a href="#2-사용하려는-클라이언트가-정적-펙토리-메서드를-찾아야-함" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>이는 내가 실무에서도 겪고있는 문제이고 정적 펙토리 메서드를 찾아서 사용해야 하는 점은 불편하긴 합니다. 설계자 입장에서는 Javadoc에 명확히 설명을 적어주고 위에 설명한 정적 펙토리 메서드 이름을 관례적으로 짓는 것으로 클라이언트 프로그래머에게 도움을 줄 수 있습니다.</p><p>정적 펙토리 메서드와 public 생성자는 장단점이 있으니 적절히 섞어서 사용하되 대부분의 경우에는 정적 펙토리 메서드가 유리하니까 생성자보단 정적 펙토리 메서드를 고려하면서 사용하도록 하는 편이 좋습니다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/java/'>java</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/effectivejava/" class="post-tag no-text-decoration" >effectivejava</a> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Effective+Java+%EC%A0%95%EB%A6%AC+Item1+-+oopty&url=https%3A%2F%2Foopty.github.io%2Fposts%2Feffective-java-item-1%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Effective+Java+%EC%A0%95%EB%A6%AC+Item1+-+oopty&u=https%3A%2F%2Foopty.github.io%2Fposts%2Feffective-java-item-1%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Foopty.github.io%2Fposts%2Feffective-java-item-1%2F&text=Effective+Java+%EC%A0%95%EB%A6%AC+Item1+-+oopty" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/effective-java-item-1/">Effective Java 정리 Item1</a><li><a href="/posts/gc-tuning/">가비지 컬렉터 튜닝</a><li><a href="/posts/java-study1/">함수형 프로그래밍의 의미와 장점</a><li><a href="/posts/javascript-execution-concepts/">자바스크립트 동작 원리에대한 개념 정리</a><li><a href="/posts/linux-concept-is-confused/">리눅스 헷갈리는 개념 포스팅</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/effectivejava/">effectivejava</a> <a class="post-tag" href="/tags/gc/">gc</a> <a class="post-tag" href="/tags/garbege-collector/">garbege collector</a> <a class="post-tag" href="/tags/jvm/">jvm</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/anotation/">anotation</a> <a class="post-tag" href="/tags/chmod/">chmod</a> <a class="post-tag" href="/tags/cms-gc/">cms gc</a> <a class="post-tag" href="/tags/collaberations/">collaberations</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/effective-java-item-3/"><div class="card-body"> <em class="timeago small" data-ts="1690070400" > 2023-07-23 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Effective Java 정리 Item3</h3><div class="text-muted small"><p> item3는 싱글톤 객체를 만드는 방법에 대해 설명합니다. 싱글톤으로 만들면 그 객체를 mocking하기 어려워진다고 합니다. 시스템에 하나의 객체밖에 없도록 설계된 클래스라 mock 객체를 만들기 어렵기 때문입니다. 싱글톤 객체를 만드는 방법은 세가지 입니다. 필드 정적 멤버, 메서드 정적 멤버와 열거타입입니다. 필드 정적 멤버 1 2 3 4 5 ...</p></div></div></a></div><div class="card"> <a href="/posts/effective-java-item-5/"><div class="card-body"> <em class="timeago small" data-ts="1690070400" > 2023-07-23 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Effective Java 정리 Item5</h3><div class="text-muted small"><p> Item5에서는 정적 유틸리티 클래스나 싱글톤 패턴을 잘못 사용한 예에 대해 설명하면서 의존성 주입을 사용하라고 권고합니다. 예시를 든 코드는 철자 검사기인데 이 철자 검사기 클래스는 정확한 맞춤법이 적혀진 사전을 필드에 가지고 있습니다. 이를 싱글톤이나 유틸리티 클래스로 만들면 하나의 사전만 시스템에서 사용할 수 있습니다. 하지만 현실에선 영어사전도...</p></div></div></a></div><div class="card"> <a href="/posts/effective-java-item-6/"><div class="card-body"> <em class="timeago small" data-ts="1690070400" > 2023-07-23 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Effective Java 정리 Item6 [불필요한 객체 생성을 피하라]</h3><div class="text-muted small"><p> Item6에서는 불필요한 객체를 만들어내는 실수에 대해 다룹니다. 예를 들어, new String(&quot;bikini&quot;)와 &quot;bikini&quot;는 기능적으로 완전히 똑같지만 메모리와 cpu 자원을 낭비합니다. (라고 책에서 말하지만, Java 컴파일러가 잡아서 최적화 시켜줄 거 같습니다 ㅎㅎ) 또한 생성자보단 정적 팩토리 메서드를 사용해서 불필요한 객체 생성을 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/why-be-generic-used-in-java/" class="btn btn-outline-primary" prompt="Older"><p>왜 제네릭을 쓰는 걸까?</p></a> <a href="/posts/effective-java-item-3/" class="btn btn-outline-primary" prompt="Newer"><p>Effective Java 정리 Item3</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/oopty">oopty</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/effectivejava/">effectivejava</a> <a class="post-tag" href="/tags/gc/">gc</a> <a class="post-tag" href="/tags/garbege-collector/">garbege collector</a> <a class="post-tag" href="/tags/jvm/">jvm</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/anotation/">anotation</a> <a class="post-tag" href="/tags/chmod/">chmod</a> <a class="post-tag" href="/tags/cms-gc/">cms gc</a> <a class="post-tag" href="/tags/collaberations/">collaberations</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-D6L4PXVM2Z"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-D6L4PXVM2Z'); }); </script>
